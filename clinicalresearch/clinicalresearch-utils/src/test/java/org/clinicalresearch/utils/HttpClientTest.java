package org.clinicalresearch.utils;

import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.util.List;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "file:src/test/resources/root-context.xml")
public class HttpClientTest {
	
	@Test
	public void httpClientTest() {
		
		//		String variables = "{\"ids\":[\"001319715600\",\"001136850600\"],\"field\":\"symptom_ryzz_p\",\"variables\":[\"胸痛\",\"胸闷\",\"心悸\",\"头晕\"]}";
//		String patients = HttpClientUtils.getByVariable(variables);
//		System.out.println(patients);
		
//		String expressioln = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"},{\"field\":\"病历_基本信息_出生日期\",\"exp\":\"等于\",\"values\":[\"2017-02-01\"],\"flag\":\"||\",\"unit\":\"\"}],[{\"field\":\"病历_基本信息_国籍\",\"exp\":\"等于\",\"values\":[\"中国\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"1\",\"size\":\"10\",\"resultField\":[\"fieldId\",\"体征_体格检查_血压\",\"病历_基本信息_性别\"]}";

//		String expressioln = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"0\",\"size\":\"10000\"}";
//		String query = "{\"ids\":[\"000025064600#2\",\"000027132200#3\"],\"expressions1\":{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"发热\"]},\"expressions2\":{\"field\":\"症状_时间_症状\",\"exp\":\"<\",\"flag\":\"or\",\"unit\":\"天\",\"values\":[\"2\"]},\"page\":0,\"size\":10}";
//		String q = "{\"ids\":[\"0000A5322600#18\",\"0000A6862600#7\",\"0000A5003800#4\",\"000A17363000#12\",\"0000A1531500#9\",\"0000A1531200#5\",\"0000A1032600#3\",\"000A14670200#5\",\"0000A1019400#2\",\"000A18171000#3\",\"000A11560500#27\",\"000A11560500#22\",\"000A11560500#15\",\"0000A2894000#4\",\"0000A1071500#2\",\"0000A4713800#18\",\"000A17343800#12\",\"000A11552500#14\",\"0000A4713800#19\",\"000A16852600#4\",\"000A13085000#3\",\"000A16252600#4\",\"0000A4248600#3\",\"0000A5101200#2\",\"000A13919400#7\",\"0000A6414000#4\",\"000A11560500#26\",\"000A11560500#19\",\"000A11560500#14\",\"0000A4713800#21\",\"0000A5003800#3\",\"0000A9334000#5\",\"0000A7462600#4\",\"0000A7503600#4\",\"000A11838100#4\",\"0000A8384000#3\",\"0000A4272800#3\",\"00000A500700#6\",\"000A11941200#3\",\"000A12879600#1\",\"000A12112000#3\",\"0000A8589100#3\",\"000A10839400#7\",\"0000A9993000#3\",\"000A11560500#21\",\"0000A5003800#2\",\"0000A6269400#3\",\"0000A1453800#3\",\"000A11941200#4\",\"000A16162000#8\",\"0000A2290200#3\",\"00000A381500#3\",\"000A10510500#2\",\"000A14417400#2\",\"000A10452200#4\",\"000A11560500#18\",\"000A11560500#25\",\"000A11560500#20\",\"0000A7948600#5\",\"0000A4419100#6\",\"000A11560500#13\",\"0000A3140000#6\",\"000A16086000#4\",\"00000A319100#9\",\"0000A3085000#5\",\"0000A9712200#6\",\"0000A6747400#3\",\"000A17854800#3\",\"0000A3811200#8\",\"0000A9699100#3\",\"000A15601500#2\",\"000A11560500#29\",\"000A11560500#12\",\"0000A7948600#6\",\"0000A6269400#2\",\"000A11560500#17\",\"000A11560500#24\",\"0000A4267400#4\",\"00000A522200#2\",\"0000A1531200#3\",\"0000A4126000#3\",\"0000A3683000#13\",\"000A11560500#23\",\"000A11560500#28\",\"000A11560500#16\",\"000A11560500#11\",\"0000A1202500#5\",\"0000A5003800#5\",\"000A16086000#3\",\"000A17363000#11\",\"0000A1531200#4\",\"000A11362500#5\",\"0000A1039600#3\",\"0000A1952800#4\",\"000A14670200#4\",\"000A10783000#1\",\"000A13871200#2\",\"000A16981600#4\",\"00000A319100#5\",\"0000A2622500#4\"],\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]]}";
//		System.out.println(q);
//		String byPatients = HttpClientUtils.getByAllGroup(q);
//		System.out.println("======================" + byPatients);
//		long currentTimeMillis = System.currentTimeMillis();
//		String string = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"0\",\"size\":\"1000\",\"resultField\":[]}";
//		String byPatients = HttpClientUtils.getByPatients(string);
//		System.out.println(byPatients);
		/*String str = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"0\",\"size\":\"20\",\"resultField\":[]}";
		String byPatients2 = HttpClientUtils.getByPatients(str);
		System.out.println(str);
		System.out.println("byPatients2:" + byPatients2);
		System.out.println((System.currentTimeMillis() - currentTimeMillis)/1000);*/
//		String pathname = "C:\\Users\\ztq_2016\\Desktop\\test.txt";
//		File file = new File(pathname);
//		FileWriter fileWriter;
//		try {
//			fileWriter = new FileWriter(file);
//			BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);
//			bufferedWriter.write(byPatients2);
//			bufferedWriter.flush();
//			bufferedWriter.close();
//			fileWriter.close();
//		} catch (IOException e) {
//			e.printStackTrace();
//		}
//		System.out.println("完毕.");
		
		//String expressioln = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"0\",\"size\":\"10000\"}";
		//String query = "{\"ids\":[\"000025064600#2\",\"000027132200#3\"],\"expressions1\":{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"发热\"]},\"expressions2\":{\"field\":\"症状_时间_症状\",\"exp\":\"<\",\"flag\":\"or\",\"unit\":\"天\",\"values\":[\"2\"]},\"page\":0,\"size\":10}";
		//String q = "{\"ids\":[\"0000A5322600#18\",\"0000A6862600#7\",\"0000A5003800#4\",\"000A17363000#12\",\"0000A1531500#9\",\"0000A1531200#5\",\"0000A1032600#3\",\"000A14670200#5\",\"0000A1019400#2\",\"000A18171000#3\",\"000A11560500#27\",\"000A11560500#22\",\"000A11560500#15\",\"0000A2894000#4\",\"0000A1071500#2\",\"0000A4713800#18\",\"000A17343800#12\",\"000A11552500#14\",\"0000A4713800#19\",\"000A16852600#4\",\"000A13085000#3\",\"000A16252600#4\",\"0000A4248600#3\",\"0000A5101200#2\",\"000A13919400#7\",\"0000A6414000#4\",\"000A11560500#26\",\"000A11560500#19\",\"000A11560500#14\",\"0000A4713800#21\",\"0000A5003800#3\",\"0000A9334000#5\",\"0000A7462600#4\",\"0000A7503600#4\",\"000A11838100#4\",\"0000A8384000#3\",\"0000A4272800#3\",\"00000A500700#6\",\"000A11941200#3\",\"000A12879600#1\",\"000A12112000#3\",\"0000A8589100#3\",\"000A10839400#7\",\"0000A9993000#3\",\"000A11560500#21\",\"0000A5003800#2\",\"0000A6269400#3\",\"0000A1453800#3\",\"000A11941200#4\",\"000A16162000#8\",\"0000A2290200#3\",\"00000A381500#3\",\"000A10510500#2\",\"000A14417400#2\",\"000A10452200#4\",\"000A11560500#18\",\"000A11560500#25\",\"000A11560500#20\",\"0000A7948600#5\",\"0000A4419100#6\",\"000A11560500#13\",\"0000A3140000#6\",\"000A16086000#4\",\"00000A319100#9\",\"0000A3085000#5\",\"0000A9712200#6\",\"0000A6747400#3\",\"000A17854800#3\",\"0000A3811200#8\",\"0000A9699100#3\",\"000A15601500#2\",\"000A11560500#29\",\"000A11560500#12\",\"0000A7948600#6\",\"0000A6269400#2\",\"000A11560500#17\",\"000A11560500#24\",\"0000A4267400#4\",\"00000A522200#2\",\"0000A1531200#3\",\"0000A4126000#3\",\"0000A3683000#13\",\"000A11560500#23\",\"000A11560500#28\",\"000A11560500#16\",\"000A11560500#11\",\"0000A1202500#5\",\"0000A5003800#5\",\"000A16086000#3\",\"000A17363000#11\",\"0000A1531200#4\",\"000A11362500#5\",\"0000A1039600#3\",\"0000A1952800#4\",\"000A14670200#4\",\"000A10783000#1\",\"000A13871200#2\",\"000A16981600#4\",\"00000A319100#5\",\"0000A2622500#4\"],\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]]}";
		//System.out.println(q);
		//String qu ="{\"ids\":[\"000025064600#2\",\"000027132200#3\"],\"field\":\"症状_现病史_症状\",\"variables\":[\"胸痛\",\"胸闷\",\"心悸\",\"头晕\"],\"page\":0,\"size\":10}";
		//System.out.println(qu);
		//String qq = "{\"ids\":[\"000486953800#1\",\"000A33143800#2\",\"00A441407400#2\",\"000998354000#1\",\"001325410700#1\",\"001136371500#1\",\"000967102200#1\",\"000681311000#1\",\"000783157400#1\",\"000381367400#4\",\"000028440700#1\",\"001011879100#2\",\"001173099400#2\",\"000783774000#2\",\"001334842200#1\",\"000533764600#4\",\"000645385000#1\",\"000040343800#1\",\"000824771500#1\",\"000474163800#1\",\"000834298600#1\",\"000483420200#2\",\"000434141000#1\"],\"expressions\":[[{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"发热\"]}]],\"resultField\":[\"症状_现病史_症状\",\"病历_基本信息_性别\"]}";
		//System.out.println(qq);
		//String query = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"1\",\"size\":\"10\"}";
		//String query ="{\"ids\":[\"000830909400#1\",\"000856493600#4\",\"000573221000#4\",\"000563322200#2\",\"000748700000#1\",\"000A33169400#4\",\"000802157400#3\",\"000A39312200#3\",\"000A32300200#2\",\"000436693800#1\",\"001149714000#1\",\"000A24879400#2\",\"000A11560500#16\",\"000436483000#1\",\"000967021200#1\",\"001073888100#1\",\"000A31943000#3\",\"001106130000#1\",\"000040343800#4\",\"001052438600#2\",\"000A38310500#3\",\"000489590000#2\",\"000489166000#2\",\"000A34271600#2\",\"000321888400#1\",\"000380541200#1\",\"000490061200#3\",\"000909982800#1\",\"000710572000#1\",\"000675074000#1\",\"000A29971600#4\",\"000631479100#4\",\"000A39312200#3\",\"00A444281500#11\",\"000A35922500#4\",\"000595200700#2\",\"000A37930700#2\",\"000979111500#1\",\"000916373600#1\",\"000997651200#5\",\"000405952600#1\",\"000625066000#1\",\"001062288100#1\",\"000348067400#2\",\"000962127400#2\",\"000631242000#2\",\"000847834800#1\",\"001303088400#1\",\"001030885000#1\",\"000863009400#1\",\"001371001000#1\",\"000617369400#1\",\"000821189100#1\",\"001233185000#1\",\"000669751500#1\",\"000527730500#3\",\"000420111500#9\",\"000475834800#1\",\"000579163000#1\",\"000675074000#1\",\"000573221000#4\",\"000543204000#1\",\"000A32342600#4\",\"000A38720500#2\",\"000A33636000#4\",\"000849689400#1\",\"000983790000#1\",\"000657436000#1\",\"000802157400#3\",\"000A39532200#3\",\"001331752200#2\",\"000498600700#4\",\"001042553600#1\",\"00A444640000#2\",\"00A444630500#2\",\"000691822000#1\",\"000023690500#2\",\"000834881500#6\",\"001033752800#1\",\"000985061200#1\",\"000517717000#1\",\"000469052200#1\",\"000516640200#4\",\"000684303600#1\",\"001033752800#1\",\"000929633600#2\",\"000431509100#2\",\"000212372600#2\",\"000465523600#4\",\"000696103600#1\",\"000735671600#1\",\"00A443331600#3\",\"000021771500#1\",\"000643663800#1\",\"000806380500#1\",\"000659212000#1\",\"000442713000#3\",\"001137031000#1\",\"001380863000#1\",\"000740425000#1\",\"000740425000#1\",\"000A31702200#4\",\"001211666000#1\",\"00A440033800#2\",\"000571929600#2\"],\"expressions1\":{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"胸痛\"]},\"expressions2\":{\"field\":\"症状_时间_症状\",\"exp\":\"<\",\"flag\":\"or\",\"unit\":\"天\",\"values\":[\"2\"]},\"page\":0,\"size\":20}";
		
//		String query = "{\"expressions\":[[{\"field\":\"病历_既往史_既往疾病\",\"exp\":\"等于\",\"values\":[\"心肌梗死\"],\"flag\":\"||\",\"unit\":\"\"}],[{\"field\":\"病历_基本信息_性别\",\"exp\":\"不等于\",\"values\":[\"男\"],\"flag\":\"||\",\"unit\":\"\"}]],\"page\":\"2\",\"size\":\"10\"}";
//		String query = "{\"ids\":[\"000641822000#1\",\"000473210700#1\",\"00A443291000#4\",\"001109676000#2\",\"000744620700#1\",\"000646973600#1\",\"000478832600#1\",\"000649260500#2\",\"000525850500#1\",\"000772968600#1\",\"000819146000#1\",\"000818770200#1\",\"000725561200#1\",\"000672924600#1\",\"000004242500#2\",\"000A39361000#8\",\"001199462800#1\",\"000A11560500#27\",\"000323202000#1\",\"000803842600#3\",\"000A11560500#22\",\"000331427400#2\",\"000364149400#2\",\"001073262500#1\",\"001395159100#1\",\"000576995000#1\",\"000474383000#11\",\"000351663600#8\",\"001046862000#1\",\"000A31413600#3\",\"000704832200#1\",\"000369979400#1\",\"001379817400#1\",\"000351663600#3\",\"000585011000#1\",\"001260133800#1\",\"001219102000#1\",\"000439351500#1\",\"00A444436000#3\",\"001050898600#1\",\"00A444281500#5\",\"000025064600#2\",\"000405651600#4\",\"000477480500#1\",\"000759702600#2\",\"000931624600#2\",\"001131167400#1\",\"000834881500#2\",\"000565499600#3\",\"000A35413600#7\",\"000988203800#1\",\"001266100700#1\",\"000856500200#1\",\"000047592600#1\",\"000594704800#2\",\"000345388100#1\",\"000834881500#2\",\"0000A1531500#9\",\"000348631200#1\",\"000020122000#2\",\"001301810200#1\",\"000560273800#4\",\"000630737000#4\",\"000A30714800#3\",\"000A31194000#11\",\"000A32250700#15\",\"000772968600#1\",\"000A36999400#7\",\"000641822000#1\",\"000473210700#1\",\"000398398400#1\",\"000691109100#1\",\"000703172500#1\",\"000776949100#1\",\"000501058600#1\",\"000803939100#1\",\"001208042600#1\",\"000373565000#1\",\"000A11560500#15\",\"000464292000#2\",\"000726431600#2\",\"000739113600#1\",\"000805183600#1\",\"000484903000#2\",\"000380932200#2\",\"000477928100#3\",\"000A39398400#4\",\"000238502200#3\",\"000A11560500#22\",\"000949847400#1\",\"000620653600#1\",\"000870531500#1\",\"000474523800#1\",\"001289614600#1\",\"000339642800#2\",\"000A24983800#4\",\"001311194000#1\",\"000431221500#2\",\"000391064600#3\",\"000565499600#3\",\"001140417000#1\",\"000547088400#4\",\"000581344000#2\",\"000787233800#1\",\"000512073800#1\",\"000482941500#4\",\"000704832200#1\",\"000369979400#1\",\"001379817400#1\",\"001351546000#3\",\"000994414000#1\",\"000575559100#1\",\"000723383600#2\",\"000721730700#2\",\"000022122500#1\",\"000485170200#2\",\"000A32098400#8\",\"000473086000#2\",\"001131012600#2\",\"000819146000#1\",\"000818770200#1\",\"000725561200#1\",\"000672924600#1\",\"000004242500#2\",\"000A39361000#8\",\"001199462800#1\",\"000A11560500#27\",\"000323202000#1\",\"000803842600#3\",\"000991009400#5\",\"000405651600#4\",\"000477480500#1\",\"000025849600#2\",\"000931624600#2\",\"000512910700#1\",\"001131167400#1\",\"000474383000#9\",\"000589510000#2\",\"000021453800#1\",\"001006770200#1\",\"000500630000#1\",\"001234057400#2\",\"000A35413600#7\",\"000473393800#1\",\"000503021500#2\",\"000A37569600#3\",\"000804263800#1\",\"000328302600#1\",\"000671842200#1\",\"000797632200#1\",\"000576995000#1\",\"000A31413600#3\",\"000021453800#1\",\"000025849600#2\",\"000512910700#1\",\"000500630000#1\",\"001234057400#2\",\"001073262500#1\",\"000309153800#1\",\"000805200000#1\",\"000675665000#1\",\"000719454600#1\",\"000980191200#1\",\"000979834800#1\",\"000953200000#1\",\"000517739100#1\",\"000841388100#1\",\"000474383000#4\",\"000968912000#1\",\"000006540500#1\",\"000506835000#5\",\"000885074000#1\",\"000933427400#1\",\"000504198100#1\",\"000A38549600#2\",\"000A24133800#3\",\"000965810700#1\",\"000591463000#2\",\"000A22620200#5\",\"000029971500#2\",\"000522210700#1\",\"000997651200#1\",\"000003743800#2\",\"000555411500#2\",\"000483907000#1\",\"001141734600#1\",\"000646140700#1\",\"000358381600#1\",\"000558253800#2\",\"001056283000#2\",\"000503021500#2\",\"000A37569600#3\",\"000A24983800#4\",\"001311194000#1\",\"000804263800#1\",\"000639203600#1\",\"000420111500#5\",\"000591307000#3\",\"000657895000#1\",\"000A25651000#15\",\"000693084000#3\",\"000522538600#5\",\"000834123800#1\",\"000707910000#2\",\"000476879600#3\",\"001173217000#1\",\"001354471600#1\",\"000766640700#1\",\"000029971500#2\",\"000A38549600#2\",\"001156860500#1\",\"000693084000#3\",\"000494468600#1\",\"000941760200#1\",\"000968912000#1\",\"000517739100#1\",\"000478310000#1\",\"000522538600#5\",\"000834123800#1\",\"000697927000#1\",\"000806934800#1\",\"001373134000#1\",\"0000A1019400#2\",\"000A27730700#3\",\"000600739400#21\",\"000595851000#1\",\"00A441212600#3\",\"000A18171000#3\",\"000A39398400#4\",\"000691109100#1\",\"000558253800#2\",\"000555411500#2\",\"000483907000#1\",\"001141734600#1\",\"000003743800#2\",\"001056283000#2\",\"000646140700#1\",\"000358381600#1\",\"000558810200#1\",\"000825203800#1\",\"000810601500#1\",\"000375039100#2\",\"000882910500#1\",\"000806930200#1\",\"000A28803000#1\",\"000476188600#1\",\"000528720700#1\",\"000A29946000#60\",\"000059780000#1\",\"000993753800#2\",\"000373565000#1\",\"000477928100#3\",\"000322409600#1\",\"000059780000#1\",\"00A441540200#2\",\"000662223000#1\",\"000731651500#1\",\"000664152500#1\",\"000993753800#2\",\"000476188600#1\",\"000698710700#1\",\"000534357400#1\",\"000912010700#2\",\"001081791600#1\",\"000727880200#1\",\"000470652000#1\",\"001065374000#1\",\"001100166000#1\",\"000536680000#1\",\"000528720700#1\",\"0000A1019400#2\",\"000522210700#1\",\"000912010700#2\",\"000645372000#1\",\"0000A2894000#4\",\"000894334000#1\",\"000727880200#1\",\"000470652000#1\",\"001065374000#1\",\"000551212000#1\",\"001100166000#1\",\"000536680000#1\",\"000548354000#3\",\"000316799100#1\",\"001358044800#1\",\"000884473000#1\",\"000614136000#1\",\"000A39930700#2\",\"000313558100#2\",\"000713105000#1\",\"0000A4248600#3\",\"000498710000#2\",\"000A32250700#11\",\"000A25699600#4\",\"000456129600#4\",\"000418486000#4\",\"000854667400#1\",\"000A32250700#16\",\"000351663600#2\",\"000A25614600#3\",\"000A17343800#12\",\"001163961000#1\",\"000825359100#1\",\"000646799400#1\",\"000657730500#1\",\"0000A4713800#19\",\"000621912200#1\",\"000895853600#1\",\"000324713600#1\",\"00A444281500#9\",\"001032372000#1\",\"001365324000#1\",\"001144642500#3\",\"000728272600#1\",\"000584691000#3\",\"000988770200#1\",\"000975022200#1\",\"001138729600#1\",\"000A35801000#5\",\"000507752600#3\",\"000662591600#2\",\"001170623800#1\",\"000037242500#1\",\"00A444281500#9\",\"000591307000#2\",\"000A17343800#12\",\"0000A4713800#19\",\"001213664800#1\",\"000621912200#1\",\"000895853600#1\",\"000324713600#1\",\"000A35801000#5\",\"000507752600#3\",\"000576289100#1\",\"001163961000#1\",\"000825359100#1\",\"000646799400#1\",\"000657730500#1\",\"000A35664600#5\",\"000490642800#1\",\"001150520200#2\",\"000851721200#1\",\"000812032000#1\",\"000405604600#1\",\"000729886000#2\",\"000346358100#5\",\"000383756000#3\",\"000721730700#1\",\"001289803600#1\",\"000654680000#2\",\"000680202000#1\",\"000502181200#1\",\"000488492600#1\",\"000778370200#1\",\"000502329600#1\",\"000A34227000#2\",\"000025849600#1\",\"000662591600#2\",\"001170623800#1\",\"000037242500#1\",\"000550091200#1\",\"000886396000#1\",\"000177603800#2\",\"000391661500#8\",\"000A25413800#6\",\"000615300700#5\",\"000311980500#1\",\"000759439100#1\",\"001002516000#2\",\"000156119600#4\",\"000381367400#3\",\"000431221500#1\",\"000479353000#1\",\"000339642800#1\",\"000346952000#2\",\"000391661500#3\",\"000A31691500#6\",\"00A440633000#5\",\"000238502200#2\",\"000A11560500#19\",\"000797363000#1\",\"000902470000#2\",\"00000A500700#6\",\"000650234800#5\",\"000A33464600#5\",\"000690935000#1\",\"000680340700#1\",\"000A31691500#6\",\"000A11560500#26\",\"000A30790500#4\",\"000523391200#1\",\"000688702600#1\",\"000001227400#61\",\"000520111500#1\",\"00A441212600#2\",\"000476732600#1\",\"001308634800#1\",\"000835189600#1\",\"000A39398400#3\",\"0000A9334000#5\",\"000949847400#2\",\"000674990200#2\",\"000001041600#2\",\"000754173800#2\",\"000474532800#2\",\"000988061000#1\",\"001037098600#1\",\"000856493600#2\",\"000A38146000#2\",\"000436473600#1\",\"000929500000#1\",\"000944439100#1\",\"001123863800#1\",\"000542203800#1\",\"000912010700#1\",\"000317730700#3\",\"000755912600#1\",\"000A22620200#6\",\"000534320500#3\",\"000650234800#5\",\"000156119600#4\",\"000789159400#1\",\"000481054000#4\",\"000A25413800#6\",\"000615300700#5\",\"000381367400#3\",\"000679503600#1\",\"000638062500#1\",\"000802157400#1\",\"001351546000#2\",\"000594868100#1\",\"000A35544600#3\",\"000550091200#1\",\"000886396000#1\",\"000177603800#2\",\"000932510700#2\",\"000311980500#1\",\"000701133000#1\",\"000434570500#3\",\"000721040000#1\",\"0000A8384000#3\",\"000819458600#2\",\"000706083800#3\",\"000489603000#5\",\"000380541200#3\",\"000594868100#1\",\"000679503600#1\",\"000A35544600#3\",\"000638062500#1\",\"000470329100#2\",\"000885749600#1\",\"001125183600#1\",\"001016791500#1\",\"000A38533800#2\",\"000605902600#2\",\"000434570500#3\",\"000505303800#3\",\"000721040000#1\",\"000538147000#1\",\"000511844800#1\",\"000669790000#3\",\"000587859400#3\",\"000A12112000#3\",\"000602354800#2\",\"000512593600#2\",\"000491593800#1\",\"000478707000#5\",\"000A36380000#4\",\"000511844800#1\",\"001346760500#1\",\"000324840000#1\",\"000380541200#3\",\"000862765000#1\",\"000619991600#2\",\"001306172600#1\",\"000022547400#1\",\"001156860500#2\",\"000937669600#1\",\"000514903000#1\",\"000979409400#1\",\"001138729600#1\",\"000592443000#7\",\"001265131500#1\",\"000983590000#1\",\"000797119100#1\",\"001120334800#1\",\"000A39398400#3\",\"000A34683800#2\",\"000944016000#3\",\"001272626000#1\",\"000906878100#1\",\"000522341600#1\",\"000806836000#1\",\"000550871000#1\",\"001023188100#1\",\"000351663600#10\",\"001331801200#1\",\"000549781600#1\",\"000597051500#1\",\"000640491200#2\",\"001329073800#1\",\"000789657400#1\",\"001381500500#1\",\"000A33030700#4\",\"000A23937400#4\",\"000545554000#1\",\"000983590000#1\",\"000797119100#1\",\"000A34683800#2\",\"000944016000#3\",\"001272626000#1\",\"000906878100#1\",\"000522341600#1\",\"000806836000#1\",\"000550871000#1\",\"001023188100#1\",\"000351663600#10\",\"001331801200#1\",\"000549781600#1\",\"000597051500#1\",\"000474712500#2\",\"000557081000#2\",\"000A11560500#26\",\"000A30790500#4\",\"0000A9334000#5\",\"000523391200#1\",\"000835189600#1\",\"000801251200#1\",\"000906722000#1\",\"000001692800#2\",\"001307951600#1\",\"000862765000#1\",\"000937669600#1\",\"000A29751000#2\",\"000619991600#2\",\"000514903000#1\",\"000937846000#1\",\"000587859400#3\",\"000710399600#1\",\"000596530700#1\",\"001037098600#1\",\"000856493600#2\",\"000A38146000#2\",\"000436473600#1\",\"000929500000#1\",\"000944439100#1\",\"001123863800#1\",\"000484903000#1\",\"000785203800#2\",\"000645521200#1\",\"000A21861200#6\",\"000605902600#2\",\"000A29751000#2\",\"000571854000#3\",\"000505303800#3\",\"000470329100#2\",\"000538147000#1\",\"000885749600#1\",\"001125183600#1\",\"001016791500#1\",\"000979409400#1\",\"000478707000#5\",\"001156860500#2\",\"000669790000#3\",\"000602354800#2\",\"000516854000#4\",\"000A32759400#3\",\"000490782600#2\",\"000484903000#1\",\"00A444281500#4\",\"000645521200#1\",\"001226639400#1\",\"000A21861200#6\",\"001134043000#1\",\"000759731200#1\",\"001051565000#1\",\"000571334800#1\",\"000A25809600#2\",\"001163619400#1\",\"000481850000#2\",\"00A444281500#4\",\"000A32759400#3\",\"000490782600#2\",\"000516854000#4\",\"001163619400#1\",\"000732895000#1\",\"000924110700#1\",\"000844934800#1\",\"000696952600#1\",\"000481850000#2\",\"000984942000#1\",\"000473086000#1\",\"001295242800#1\",\"000699930000#2\",\"000777444000#1\",\"000847047400#1\",\"000941163600#1\",\"000542203800#6\",\"000003141500#1\",\"000534953600#1\",\"000402532000#1\",\"000483350000#1\",\"000483514600#2\",\"000624407000#1\",\"000599063000#1\",\"000003141500#1\",\"000534953600#1\",\"000825911000#1\",\"000677262600#1\",\"000695252800#1\",\"000702091200#1\",\"000001269400#2\",\"000025065000#1\",\"001050543000#1\",\"0000A2290200#3\",\"000796054800#3\",\"000661810700#1\",\"000489500000#1\",\"001174713800#1\",\"000610264000#1\",\"000020680000#1\",\"000304466000#2\",\"000814564600#1\",\"000505303800#4\",\"000701180500#1\",\"001371391600#1\",\"000649710700#1\",\"001272561600#1\",\"000414426000#1\",\"000A22620200#7\",\"000584763000#2\",\"000662760500#1\",\"000723648100#1\",\"000876235000#1\",\"000631082600#1\",\"000790280000#1\",\"00A441903600#2\",\"000481400500#1\",\"000A14417400#2\",\"000710338600#2\",\"000892655000#1\",\"000900340500#1\",\"000860162000#1\",\"001036135000#1\",\"000521743600#3\",\"000494959400#1\",\"000774573800#1\",\"000A34393600#2\",\"001387958100#1\",\"000477563800#1\",\"000A23209600#4\",\"00A440672800#3\",\"000490359400#1\",\"001377823600#1\",\"000A33261200#4\",\"000606043000#1\",\"000509912600#1\",\"000A39893000#2\",\"000490964000#1\",\"000891141500#2\",\"000695582600#2\",\"000682853000#1\",\"000691034000#1\",\"000420111500#7\",\"000351663600#6\",\"001192222000#2\",\"000446854000#1\",\"000829351000#1\",\"001255544600#1\",\"000834881500#4\",\"000653441200#1\",\"000806563800#2\",\"000479870500#3\",\"000774162500#1\",\"001008420200#1\",\"000442713000#1\",\"001286341000#1\",\"000694520700#2\",\"000538788100#1\",\"000A37513000#2\",\"000A35801000#6\",\"0000A1453800#3\",\"000020680000#1\",\"000304466000#2\",\"000814564600#1\",\"000653441200#1\",\"000A37513000#2\",\"001008500200#1\",\"001097873000#1\",\"000836786000#1\",\"001077053800#2\",\"000A11560500#18\",\"000024961600#1\",\"000960251500#1\",\"000695582600#2\",\"000682853000#1\",\"000691034000#1\",\"000351663600#6\",\"001192222000#2\",\"000446854000#1\",\"000516854000#3\",\"001272626000#2\",\"000A22031600#2\",\"000660488400#2\",\"000A23472800#10\",\"000A31691500#11\",\"000A39312200#5\",\"000A33464600#4\",\"000571854000#2\",\"000001130000#2\",\"000603123000#1\",\"001341382800#1\",\"000351129100#3\",\"00A444281500#3\",\"000509912600#1\",\"000A35137000#3\",\"000001342800#3\",\"000707141600#1\",\"000952609100#1\",\"000A25809600#6\",\"00A441903600#2\",\"000A31209600#5\",\"000481400500#1\",\"000A14417400#2\",\"000952954800#1\",\"000A38678600#4\",\"000479100200#1\",\"000662760500#1\",\"000A32266000#3\",\"001116133000#1\",\"000480969100#2\",\"000766653600#1\",\"000001554800#3\",\"000824357400#2\",\"000719999100#1\",\"000647037400#1\",\"001378479100#1\",\"000507752600#4\",\"001316132000#1\",\"000482010000#1\",\"000860162000#1\",\"000477563800#1\",\"000A23209600#4\",\"001387958100#1\",\"001036135000#1\",\"000498520500#3\",\"001378479100#1\",\"000941050700#1\",\"000654680000#1\",\"000935678100#1\",\"000A36380000#3\",\"000970310000#1\",\"000730150200#1\",\"000542203800#7\",\"000533572800#2\",\"000712156000#1\",\"000855115000#1\",\"000581209600#2\",\"000622231500#3\",\"000001122000#5\",\"000710049600#2\",\"001053224000#1\",\"001303211500#1\",\"001362621500#1\",\"000643359100#1\",\"000513645000#2\",\"000797103800#1\",\"001329526000#1\",\"000476222600#3\",\"000391661500#9\",\"000A32293800#9\",\"000697878100#1\",\"000A36041000#5\",\"000589539400#2\",\"000547639400#1\",\"000513300000#1\",\"000020182600#1\",\"001042053000#1\",\"000929360000#1\",\"001157278600#1\",\"001398241500#1\",\"001401982000#1\",\"000477060500#2\",\"000819458600#1\",\"000084993000#7\",\"00A444281500#13\",\"001229463000#1\",\"000486953800#1\",\"000A33143800#2\",\"00A441407400#2\",\"000749864800#1\",\"000803165000#1\",\"000631479100#2\",\"000966131500#1\",\"000634439600#1\",\"000624781600#3\",\"000A32759400#4\",\"000479407000#2\",\"001298084000#1\",\"000683783600#1\",\"000783774000#2\",\"001334842200#1\",\"000533764600#4\",\"000645385000#1\",\"000040343800#1\",\"000824771500#1\",\"000474163800#1\",\"000834298600#1\",\"000483420200#2\",\"000434141000#1\",\"000654759600#1\",\"00A444401000#3\",\"000749133600#1\",\"000602354800#1\",\"000324851000#1\",\"000626248100#1\",\"000A29849400#3\",\"000026654000#1\",\"000963434600#1\",\"000A39220500#7\",\"000633803800#1\",\"000660062600#1\",\"001007612600#2\",\"00A440278600#3\",\"000857571200#1\",\"000512700700#1\",\"001080919600#1\",\"000A37362600#2\",\"000672598400#2\",\"000474383000#2\",\"000629471500#1\",\"001161786000#1\",\"000710049600#2\",\"001053224000#1\",\"001303211500#1\",\"001362621500#1\",\"000643359100#1\",\"000513645000#2\",\"000797103800#1\",\"00000A381500#3\",\"000683783600#1\",\"001010514600#1\",\"000665488100#1\",\"000624781600#3\",\"000A32759400#4\",\"000479407000#2\",\"000481696000#1\",\"000567824600#1\",\"000633803800#1\",\"000660062600#1\",\"001319161200#1\",\"000347117400#1\",\"000877660200#1\",\"000A10452200#4\",\"000629902000#1\",\"000911698400#1\",\"001045091200#1\",\"000480241200#1\",\"000001773800#6\",\"000001809100#3\",\"000654759600#1\",\"000357447000#2\",\"001325410700#1\",\"000681311000#1\",\"000783157400#1\",\"000697878100#1\",\"000A36041000#5\",\"000589539400#2\",\"000547639400#1\",\"000513300000#1\",\"000A32293800#9\",\"000645385000#1\",\"000533764600#4\",\"00A444401000#3\",\"000362651000#3\",\"001319161200#1\",\"000347117400#1\",\"000629902000#1\",\"000642662600#1\",\"000028440700#1\",\"000424226000#2\",\"001064509600#1\",\"000855115000#1\",\"001292526000#1\",\"000941050700#1\",\"001398241500#1\",\"001401982000#1\",\"000481054000#3\",\"000477060500#2\",\"000819458600#1\",\"000712156000#1\",\"00A444281500#13\",\"000084993000#7\",\"000498520500#3\",\"000533572800#2\",\"000337860200#1\",\"000792162600#1\",\"000581209600#2\",\"000542203800#7\",\"000362651000#3\",\"000A36400500#3\",\"000490176000#3\",\"000911698400#1\",\"001045091200#1\",\"000480241200#1\",\"000001773800#6\",\"000001809100#3\",\"000762157400#1\",\"000744604600#1\",\"000445763800#2\",\"000020261200#1\",\"000203088400#3\",\"00A444281500#18\",\"000321888400#3\",\"000478637000#2\",\"001132600200#1\",\"000796120700#1\",\"001345398100#1\",\"000900230700#1\",\"000A29712500#6\",\"000498412500#5\",\"000830209600#1\",\"00A441853000#11\",\"000021414000#2\",\"000989733800#1\",\"000873315000#1\",\"000460558600#2\",\"001359210200#1\",\"000483420200#3\",\"000481054000#2\",\"001394473600#1\",\"000A34090000#2\",\"001251604000#1\",\"001036121500#1\",\"001021674000#1\",\"000A35571200#3\",\"000A34364000#3\",\"000A15601500#2\",\"000648403800#1\",\"000615300700#3\",\"000A37451200#2\",\"000796475000#1\",\"000476193600#3\",\"00A440278600#2\",\"001207404000#1\",\"000A37061000#2\",\"000997638600#1\",\"000989733800#1\",\"000552534800#1\",\"000827580200#1\",\"000511047000#2\",\"000848827000#1\",\"000335095000#1\",\"000786962500#1\",\"000827580200#1\",\"000A35230000#2\",\"000801829600#1\",\"00A443331600#2\",\"001017950200#1\",\"000780430200#1\",\"000512935000#2\",\"001060842200#1\",\"001150441500#1\",\"001205198100#1\",\"000743509100#1\",\"001144642500#1\",\"000587859400#1\",\"000653441200#2\",\"000580876000#7\",\"000669843000#1\",\"000511047000#2\",\"000335095000#1\",\"000786962500#1\",\"000595200700#3\",\"001017950200#1\",\"000780430200#1\",\"000512935000#2\",\"001060842200#1\",\"000612232200#1\",\"001205198100#1\",\"000580750000#1\",\"001150441500#1\",\"000A31209600#6\",\"000024286000#1\",\"001283050000#1\",\"001144642500#1\",\"000850935000#1\",\"000442713000#2\",\"000527590200#1\",\"000587859400#1\",\"000A36876000#2\",\"000203088400#2\",\"000A31691500#12\",\"000610563000#1\",\"000476193600#3\",\"000839202000#1\",\"00A444515000#3\",\"00A440278600#2\",\"000830732000#1\",\"001394473600#1\",\"000A15601500#2\",\"000648403800#1\"],\"expressions1\":{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"\"]},\"expressions2\":{\"field\":\"症状_现病史_症状\",\"exp\":\"<\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"\"]},\"page\":0,\"size\":10}";
//		String byPatients = HttpClientUtils.gettimeOffset(query);
//		System.out.println("query======================="+query);
//		System.out.println("result======================" + byPatients);
//		String show = HttpClientUtils.getByVariable(query);
		//String ss = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"},{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"男\"],\"flag\":\"||\",\"unit\":\"\"}],[{\"field\":\"病历_基本信息_性别\",\"exp\":\"等于\",\"values\":[\"女\"],\"flag\":\"||\",\"unit\":\"\"}],[{\"field\":\"病历_既往史_既往疾病\",\"exp\":\"等于\",\"values\":[\"心肌梗死\"],\"flag\":\"||\",\"unit\":\"\"}],[{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"发热\"]}]],\"resultField\":[\"症状_现病史_症状\",\"病历_基本信息_性别\"]}";
		//String s = "{\"expressions\":[[{\"field\":\"症状_现病史_症状\",\"exp\":\"包含\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"发热\"]}]],\"page\":0,\"size\":10,\"resultField\":[\"病历_基本信息_性别\"]}";
		//String show = "{\"A组\":"+HttpClientUtils.getByStating(s)+"}";
		//System.out.println(show);


		//String query = "{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"男\"]},{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"女\"]}],[{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"男\"]},{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"女\"]}]],\"page\":0,\"size\":50,\"result\":[{\"field\":\"病例_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[]}]}";
		//String result = HttpClientUtils.get("http://192.168.8.20:8080/med/query/mrallnum.json");
		/*String result = HttpClientUtils.getByPatientsCount();
		System.out.println(result);
		System.out.println("=======================");*/
		//Gson gs = new Gson();
		//String json = "{\"info\":[{\"000010\":[{\"confLevel\":0.95,\"groupids\":\"1490250140376,1490250140727\",\"query\":\"{'field':'病历_现病史_症状','exp':'等于','flag':'or','unit':'','values':['胸痛']}\"}]}],\"studyid\":\"000994\",\"variablenames\":\"<span class='block-info'>胸痛</span>\"}";
		String query ="{\"expressions\":[[{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"男\"]},{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"女\"]}],[{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"男\"]},{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"女\"]}]],\"page\":0,\"size\":1000,\"result\":[{\"field\":\"症状_现病史_症状\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[\"胸痛\"]},{\"field\":\"病历_基本信息_性别\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[]},{\"field\":\"诊断_诊断_出院诊断\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[]},{\"field\":\"病历_基本信息_就诊次\",\"exp\":\"=\",\"flag\":\"or\",\"unit\":\"\",\"values\":[]}]}";
		String byVariable = HttpClientUtils.getByVariable(query);
		System.out.println(byVariable);
	}
}
